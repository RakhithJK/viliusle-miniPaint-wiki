<div id="main">
    <h1 class="page-title">Class: Base_layers_class</h1>
<section>
<header>
        <h2><span class="attribs"><span class="type-signature"></span></span>Base_layers_class<span class="signature">()</span><span class="type-signature"></span></h2>
            <div class="class-description">Layers class - manages layers. Each layer is object with various types. Keys:
- id (int)
- link (image)
- parent_id (int)
- name (string)
- type (string)
- x (int)
- y (int)
- width (int)
- height (int)
- width_original (int)
- height_original (int)
- visible (bool)
- opacity (0-100)
- order (int)
- composition (string)
- rotate (int) 0-359
- data (various data here)
- params (object)
- color {hex}
- status (string)
- filters (array)
- render_function (function)</div>
</header>
<article>
    <div class="container-overview">
    <h2>Constructor</h2>
    <h2 id="Base_layers_class"><span class="type-signature"></span>new Base_layers_class<span class="signature">()</span><span class="type-signature"></span></h2>

    </div>
        <h3 class="subsection-title">Methods</h2>
    <h2 id="add_filter"><span class="type-signature"></span>add_filter<span class="signature">(layer_id, name, params)</span><span class="type-signature"></span></h2>
<div class="description">
    register new live filter
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>layer_id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>name</code></td>
            <td class="type">
<span class="param-type">string</span>
            </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>params</code></td>
            <td class="type">
<span class="param-type">object</span>
            </td>
            <td class="description last"></td>
        </tr>
    </tbody>
</table>

    <h2 id="autoresize"><span class="type-signature"></span>autoresize<span class="signature">(width, height, layer_id, can_automate)</span><span class="type-signature"></span></h2>
<div class="description">
    autoresize layer, based on dimensions, up - always, if 1 layer - down.
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Default</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>width</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
                <td class="default">
                </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>height</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
                <td class="default">
                </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>layer_id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
                <td class="default">
                </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>can_automate</code></td>
            <td class="type">
<span class="param-type">boolean</span>
            </td>
                <td class="default">
                    true
                </td>
            <td class="description last"></td>
        </tr>
    </tbody>
</table>

    <h2 id="convert_layer_to_canvas"><span class="type-signature"></span>convert_layer_to_canvas<span class="signature">(layer_id, actual_area, can_trim)</span><span class="type-signature"> → {canvas}</span></h2>
<div class="description">
    exports (active) layer to canvas for saving
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Default</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>layer_id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
                <td class="default">
                </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>actual_area</code></td>
            <td class="type">
<span class="param-type">boolean</span>
            </td>
                <td class="default">
                    false
                </td>
            <td class="description last">if false, all visible and trimed area will be used</td>
        </tr>
        <tr>
                <td class="name"><code>can_trim</code></td>
            <td class="type">
<span class="param-type">boolean</span>
            </td>
                <td class="default">
                </td>
            <td class="description last">default is true</td>
        </tr>
    </tbody>
</table>

<h5>Returns:</h5>
<dl>
    <dt>
        Type
    </dt>
    <dd>
<span class="param-type">canvas</span>
    </dd>
</dl>
    <h2 id="convert_layers_to_canvas"><span class="type-signature"></span>convert_layers_to_canvas<span class="signature">(ctx, layer_id)</span><span class="type-signature"></span></h2>
<div class="description">
    exports all layers to canvas for saving
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>ctx</code></td>
            <td class="type">
<span class="param-type">canvas.context</span>
            </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>layer_id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last">Optional</td>
        </tr>
    </tbody>
</table>

    <h2 id="delete"><span class="type-signature"></span>delete<span class="signature">(id, force)</span><span class="type-signature"></span></h2>
<div class="description">
    removes layer
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>force</code></td>
            <td class="type">
<span class="param-type">boolean</span>
            </td>
            <td class="description last">Force to delete first layer?</td>
        </tr>
    </tbody>
</table>

    <h2 id="delete_filter"><span class="type-signature"></span>delete_filter<span class="signature">(layer_id, filter_id)</span><span class="type-signature"></span></h2>
<div class="description">
    delets live filter
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>layer_id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>filter_id</code></td>
            <td class="type">
<span class="param-type">string</span>
            </td>
            <td class="description last"></td>
        </tr>
    </tbody>
</table>

    <h2 id="find_next"><span class="type-signature"></span>find_next<span class="signature">(id)</span><span class="type-signature"> → {layer|null}</span></h2>
<div class="description">
    find next layer
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last">layer id</td>
        </tr>
    </tbody>
</table>

<h5>Returns:</h5>
<dl>
    <dt>
        Type
    </dt>
    <dd>
<span class="param-type">layer</span>
|
<span class="param-type">null</span>
    </dd>
</dl>
    <h2 id="find_previous"><span class="type-signature"></span>find_previous<span class="signature">(id)</span><span class="type-signature"> → {layer|null}</span></h2>
<div class="description">
    find previous layer
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last">layer id</td>
        </tr>
    </tbody>
</table>

<h5>Returns:</h5>
<dl>
    <dt>
        Type
    </dt>
    <dd>
<span class="param-type">layer</span>
|
<span class="param-type">null</span>
    </dd>
</dl>
    <h2 id="get_dimensions"><span class="type-signature"></span>get_dimensions<span class="signature">()</span><span class="type-signature"> → {object}</span></h2>
<div class="description">
    returns canvas dimensions.
</div>

<h5>Returns:</h5>
<dl>
    <dt>
        Type
    </dt>
    <dd>
<span class="param-type">object</span>
    </dd>
</dl>
    <h2 id="get_layer"><span class="type-signature"></span>get_layer<span class="signature">(id)</span><span class="type-signature"> → {object}</span></h2>
<div class="description">
    returns layer
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last"></td>
        </tr>
    </tbody>
</table>

<h5>Returns:</h5>
<dl>
    <dt>
        Type
    </dt>
    <dd>
<span class="param-type">object</span>
    </dd>
</dl>
    <h2 id="get_sorted_layers"><span class="type-signature"></span>get_sorted_layers<span class="signature">()</span><span class="type-signature"></span></h2>
<div class="description">
    clone and sort.
</div>

    <h2 id="get_world_coords"><span class="type-signature"></span>get_world_coords<span class="signature">(x, y)</span><span class="type-signature"> → {object}</span></h2>
<div class="description">
    returns global position, for example if canvas is zoomed, it will convert relative mouse position to absolute at 100% zoom.
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>x</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>y</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last"></td>
        </tr>
    </tbody>
</table>

<h5>Returns:</h5>
<div class="param-desc">
    keys: x, y
</div>
<dl>
    <dt>
        Type
    </dt>
    <dd>
<span class="param-type">object</span>
    </dd>
</dl>
    <h2 id="init"><span class="type-signature"></span>init<span class="signature">()</span><span class="type-signature"></span></h2>
<div class="description">
    do preparation on start
</div>

    <h2 id="insert"><span class="type-signature"></span>insert<span class="signature">(settings, can_automate)</span><span class="type-signature"></span></h2>
<div class="description">
    creates new layer
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Default</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>settings</code></td>
            <td class="type">
<span class="param-type">array</span>
            </td>
                <td class="default">
                </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>can_automate</code></td>
            <td class="type">
<span class="param-type">boolean</span>
            </td>
                <td class="default">
                    true
                </td>
            <td class="description last"></td>
        </tr>
    </tbody>
</table>

    <h2 id="is_layer_empty"><span class="type-signature"></span>is_layer_empty<span class="signature">(id)</span><span class="type-signature"> → {Boolean}</span></h2>
<div class="description">
    checks if layer empty
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last"></td>
        </tr>
    </tbody>
</table>

<h5>Returns:</h5>
<dl>
    <dt>
        Type
    </dt>
    <dd>
<span class="param-type">Boolean</span>
    </dd>
</dl>
    <h2 id="layer_clear"><span class="type-signature"></span>layer_clear<span class="signature">(id)</span><span class="type-signature"></span></h2>
<div class="description">
    clear layer data
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last"></td>
        </tr>
    </tbody>
</table>

    <h2 id="move"><span class="type-signature"></span>move<span class="signature">(id, direction)</span><span class="type-signature"></span></h2>
<div class="description">
    move layer up or down
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>direction</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last"></td>
        </tr>
    </tbody>
</table>

    <h2 id="render"><span class="type-signature"></span>render<span class="signature">(force)</span><span class="type-signature"></span></h2>
<div class="description">
    renders all layers objects on main canvas
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>force</code></td>
            <td class="type">
<span class="param-type">bool</span>
            </td>
            <td class="description last"></td>
        </tr>
    </tbody>
</table>

    <h2 id="render_object"><span class="type-signature"></span>render_object<span class="signature">(ctx, object)</span><span class="type-signature"></span></h2>
<div class="description">
    export current 1ayers to given canvas
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>ctx</code></td>
            <td class="type">
<span class="param-type">canvas.context</span>
            </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>object</code></td>
            <td class="type">
<span class="param-type">object</span>
            </td>
            <td class="description last"></td>
        </tr>
    </tbody>
</table>

    <h2 id="select"><span class="type-signature"></span>select<span class="signature">(id)</span><span class="type-signature"></span></h2>
<div class="description">
    marks layer as selected, active
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last"></td>
        </tr>
    </tbody>
</table>

    <h2 id="set_opacity"><span class="type-signature"></span>set_opacity<span class="signature">(id, value)</span><span class="type-signature"></span></h2>
<div class="description">
    change layer opacity
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>value</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last">0-100</td>
        </tr>
    </tbody>
</table>

    <h2 id="toggle_visibility"><span class="type-signature"></span>toggle_visibility<span class="signature">(id)</span><span class="type-signature"></span></h2>
<div class="description">
    toggle layer visibility
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last"></td>
        </tr>
    </tbody>
</table>

    <h2 id="update_layer_image"><span class="type-signature"></span>update_layer_image<span class="signature">(canvas, layer_id)</span><span class="type-signature"></span></h2>
<div class="description">
    updates layer image data
</div>
    <h5>Parameters:</h5>
<table class="params">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th class="last">Description</th>
    </tr>
    </thead>
    <tbody>
        <tr>
                <td class="name"><code>canvas</code></td>
            <td class="type">
<span class="param-type">canvas</span>
            </td>
            <td class="description last"></td>
        </tr>
        <tr>
                <td class="name"><code>layer_id</code></td>
            <td class="type">
<span class="param-type">int</span>
            </td>
            <td class="description last">(optional)</td>
        </tr>
    </tbody>
</table>

</article>
</section>
</div>



